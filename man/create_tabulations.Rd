% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_tabulations.R
\name{create_tabulations}
\alias{create_tabulations}
\title{Create all tabulations}
\usage{
create_tabulations(
  loaded_data,
  var_labels,
  val_labels,
  no_val_labels = NULL,
  binary_labels = c(No = 0, Yes = 1),
  respid_var = "respid",
  col_var = NULL,
  weight_var = NULL,
  meta_vars = c("respid", "weight"),
  mean_vars = NULL,
  freq_vars = NULL,
  tibble_out = TRUE
)
}
\arguments{
\item{loaded_data}{A data frame or data.table containing the survey data}

\item{var_labels}{A data.table or data.frame containing variable labels with columns 'var_name' and 'var_label'}

\item{val_labels}{A data.table or data.frame containing value labels with columns 'var_name', 'val_value', and 'val_label'}

\item{no_val_labels}{Optional data frame or data.table containing variables that don't have value labels.
For these variables, their R class will determine their type classification.}

\item{binary_labels}{Named vector defining binary variable labels (default: c('No' = 0, 'Yes' = 1))}

\item{respid_var}{Character string specifying the respondent ID variable name}

\item{col_var}{Optional character string specifying a variable to break down means by}

\item{weight_var}{Optional character string specifying the weight variable name}

\item{meta_vars}{Character vector of variable names to be classified as metadata (default: c('respid', 'weight'))}

\item{mean_vars}{Optional character vector of variables to calculate means for. If NULL, uses all numeric variables}

\item{freq_vars}{Optional character vector of variables to calculate frequencies for.
If NULL, all variables except respid_var and col_var will be used.}

\item{tibble_out}{Logical indicating whether to return a tibble (TRUE) or data.table (FALSE)}
}
\value{
A list containing:
\itemize{
\item var_types: Classification of variables by type
\item means_table: Table of weighted means
\item n_table: Table of frequency counts
\item colprops_table: Table of proportions
}
}
\description{
This function creates comprehensive tabulations for survey data, including both frequency
tables and mean calculations. It automatically classifies variables and applies appropriate
statistical methods based on variable types. The function supports weighted calculations,
cross-tabulation, and value labeling.
}
\examples{
# Using the test_list dataset
data(test_list)

# Create tabulations with default settings
result <- create_tabulations(
  loaded_data = test_list$loaded_data,
  var_labels = test_list$var_labels,
  val_labels = test_list$val_labels
)

# Create tabulations with cross-tabulation
result_with_col <- create_tabulations(
  loaded_data = test_list$loaded_data,
  var_labels = test_list$var_labels,
  val_labels = test_list$val_labels,
  col_var = 'scvar_1'
)

# Create tabulations with custom weights
result_with_weights <- create_tabulations(
  loaded_data = test_list$loaded_data,
  var_labels = test_list$var_labels,
  val_labels = test_list$val_labels,
  weight_var = 'weight'
)

# View the results
print(result$var_types)    # Variable classifications
print(result$means_table)  # Mean calculations
print(result$n_table)      # Frequency counts
print(result$colprops_table) # Proportions

}
