% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_means.R
\name{calculate_means}
\alias{calculate_means}
\title{Calculate weighted means for survey variables}
\usage{
calculate_means(
  input_data,
  respid_var,
  var_labels,
  val_labels,
  mean_vars = NULL,
  col_var = NULL,
  weight_var = NULL,
  tibble_out = TRUE
)
}
\arguments{
\item{input_data}{A data.table or data.frame containing the survey data}

\item{respid_var}{Character string specifying the respondent ID variable name}

\item{var_labels}{A data.table or data.frame containing variable labels with columns 'var_name' and 'var_label'}

\item{val_labels}{A data.table or data.frame containing value labels with columns 'var_name', 'val_value', and 'val_label'}

\item{mean_vars}{Optional character vector of variables to calculate means for. If NULL, uses all numeric variables}

\item{col_var}{Optional character string specifying a variable to break down means by}

\item{weight_var}{Optional character string specifying the weight variable name}

\item{tibble_out}{Logical indicating whether to return a tibble (TRUE) or data.table (FALSE)}
}
\value{
A tibble or data.table containing the calculated means with variable labels
}
\description{
This function calculates weighted means for numeric variables in survey data. It supports
both total-level calculations and breakdowns by a column variable. The function handles
value labels and variable labels, and can work with or without explicit weights.
}
\examples{
data(test_list)

# Calculate means for specific variables with all defaults
calculate_means(
  input_data = test_list$loaded_data[, c(1, 4, 7:8)],
  respid_var = 'respid',
  var_labels = test_list$var_labels,
  val_labels = test_list$val_labels
)

# Calculate means with a column breakdown
calculate_means(
  input_data = test_list$loaded_data[, c(1, 4, 7:8)],
  respid_var = 'respid',
  var_labels = test_list$var_labels,
  val_labels = test_list$val_labels,
  col_var = 'scvar_1'
)

# Calculate means with custom weights
calculate_means(
  input_data = test_list$loaded_data[, c(1, 4, 7:8, 13)],
  respid_var = 'respid',
  var_labels = test_list$var_labels,
  val_labels = test_list$val_labels,
  weight_var = 'weight'
)

}
