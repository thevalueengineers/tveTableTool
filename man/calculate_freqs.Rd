% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calculate_freqs.R
\name{calculate_freqs}
\alias{calculate_freqs}
\title{Calculate weighted frequencies and proportions}
\usage{
calculate_freqs(
  input_data,
  respid_var,
  var_labels,
  val_labels,
  freq_vars = NULL,
  col_var = NULL,
  weight_var = NULL,
  tibble_out = TRUE
)
}
\arguments{
\item{input_data}{A data frame or data.table containing the survey data}

\item{respid_var}{Character string specifying the respondent ID variable}

\item{var_labels}{A data frame or data.table containing variable labels with columns:
\itemize{
\item var_name: Variable names
\item var_label: Corresponding variable labels
}}

\item{val_labels}{A data frame or data.table containing value labels with columns:
\itemize{
\item var_name: Variable names
\item val_value: Value codes
\item val_label: Corresponding value labels
}}

\item{freq_vars}{Optional character vector of variables to calculate frequencies for.
If NULL, all variables except respid_var and col_var will be used.}

\item{col_var}{Optional character string specifying a variable for cross-tabulation}

\item{weight_var}{Optional character string specifying the weight variable}

\item{tibble_out}{Logical indicating whether to return tibbles (TRUE) or data.tables (FALSE)}
}
\value{
A list containing two elements:
\itemize{
\item output_coln: A data frame/tibble with frequency counts
\item output_colprops: A data frame/tibble with proportions
}
Both tables include columns for Variable, Label, Value, and Total (plus any cross-tabulation columns)
}
\description{
This function calculates weighted frequencies and proportions for categorical variables,
with support for cross-tabulation and value labeling. It can handle both weighted and
unweighted calculations, and returns both counts and proportions in a structured format.
}
\examples{
# Example using test_list
result <- calculate_freqs(
  input_data = test_list$loaded_data,
  respid_var = "respid",
  var_labels = test_list$var_labels,
  val_labels = test_list$val_labels,
  col_var = "scvar_1",
  weight_var = "weight"
)

# View frequency counts
print(result$output_coln)

# View proportions
print(result$output_colprops)

}
